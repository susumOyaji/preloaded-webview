<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Preloaded WebView</title>
	<link rel="stylesheet" href="style.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
		rel="stylesheet">
</head>

<body>
	<div class="container">
		<!-- Header -->
		<header class="header">
			<div class="app-title">
				<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"
					fill="currentColor">
					<path
						d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z" />
				</svg>
				Finance Tracker
			</div>
			<div class="header-actions">
				<button id="refreshBtn" class="icon-btn" title="Refresh Data">
					<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"
						fill="currentColor">
						<path
							d="M480-160q-134 0-227-93t-93-227q0-134 93-227t227-93q69 0 132 28.5T720-690v-110h80v240H560v-80h135q-26-48-74-79t-101-31q-100 0-170 70t-70 170q0 100 70 170t170 70q77 0 139-44t87-116h84q-28 106-114 173t-196 67Z" />
					</svg>
				</button>
				<button id="settingsBtn" class="icon-btn" title="Settings">
					<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"
						fill="currentColor">
						<path
							d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-1 13.5l103 78-110 190-119-50q-11 8-23 15t-24 12l-16 128H370Zm112-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm0-80q-25 0-42.5-17.5T422-480q0-25 17.5-42.5T480-540q25 0 42.5 17.5T540-480q0 25-17.5 42.5T480-420Z" />
					</svg>
				</button>
			</div>
		</header>

		<!-- Market Indices -->
		<section class="indices-section">
			<h2 class="section-title">Market Indices</h2>
			<div id="indicesContainer" class="indices-grid">
				<!-- Indices cards will be injected here -->
			</div>
		</section>

		<!-- Portfolio Summary -->
		<section class="portfolio-section">
			<h2 class="section-title">Portfolio Summary</h2>
			<div class="portfolio-card">
				<div>Total Asset Value</div>
				<div id="totalAssetValue" class="portfolio-value">Â¥0</div>
				<div id="totalGainLoss" class="portfolio-gain">
					<span class="text-neutral">--</span>
				</div>
			</div>
		</section>

		<!-- Watchlist -->
		<section class="watchlist-section">
			<div
				style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-sm);">
				<h2 class="section-title" style="margin-bottom: 0;">Watchlist</h2>
				<button id="addStockBtn" class="btn btn-filled"
					style="display: flex; align-items: center; gap: 8px; padding: 8px 16px;">
					<svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"
						fill="currentColor">
						<path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z" />
					</svg>
					Add Stock
				</button>
			</div>

			<div id="watchlistContainer">
				<!-- Watchlist items will be injected here -->
			</div>

			<div id="emptyState" class="hidden" style="text-align: center; padding: 40px; color: var(--outline);">
				<p>No stocks in watchlist.</p>
				<p>Click "Add Stock" to get started.</p>
			</div>
		</section>
	</div>

	<!-- Add/Edit Stock Modal -->
	<div id="addStockModal" class="modal">
		<div class="modal-content">
			<h3 id="modalTitle" class="modal-title">Add Stock</h3>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">Stock Code (e.g. 7203.T)</label>
				<input type="text" id="stockInput" class="input-field" placeholder="Enter code">
			</div>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">Broker (Optional)</label>
				<input type="text" id="brokerInput" class="input-field" placeholder="e.g. SBI, Rakuten">
			</div>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">Quantity</label>
				<input type="number" id="quantityInput" class="input-field" placeholder="0">
			</div>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">Average Price</label>
				<input type="number" id="priceInput" class="input-field" placeholder="0">
			</div>
			<div class="modal-actions">
				<button id="cancelAddBtn" class="btn btn-text">Cancel</button>
				<button id="confirmAddBtn" class="btn btn-filled">Save</button>
			</div>
		</div>
	</div>

	<!-- Settings Modal -->
	<div id="settingsModal" class="modal">
		<div class="modal-content">
			<h3 class="modal-title">Settings</h3>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">API Endpoint</label>
				<input type="text" id="apiEndpoint" class="input-field" placeholder="https://...">
			</div>
			<div class="form-group">
				<label style="display:block; margin-bottom:4px; font-size:0.875rem;">Refresh Interval (seconds)</label>
				<input type="number" id="refreshInterval" class="input-field" value="30">
			</div>
			<div class="form-group" style="display:flex; align-items:center; gap:8px;">
				<input type="checkbox" id="themeToggle">
				<label for="themeToggle">Dark Mode</label>
			</div>
			<div class="modal-actions">
				<button id="cancelSettings" class="btn btn-text">Cancel</button>
				<button id="saveSettings" class="btn btn-filled">Save</button>
			</div>
		</div>
	</div>

	<!-- Toast Notification -->
	<div id="toast" class="toast">Action Successful</div>

	<script src="script.js"></script>
</body>

</html>